<!DOCTYPE html>
<html>
  <head>
    <title>Salud Ocup</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body onload="startCountdown()">
    <img
      src="https://drive.google.com/uc?id=160swttBUh5qnlsCxcjAG71QT-1mkmvVm"
      id="imagen-principal"
    />
    <nav id="barra" class="barra-white">
      <button  type="button" class="email">
        <img
          src="https://cdn-icons-png.flaticon.com/512/7820/7820802.png"
          alt=""
        />
      </button>
      <a id="suger" href="javascript:void(0)"
        ><button type="button" class="email2">
          <img
            src="https://cdn-icons-png.flaticon.com/512/7263/7263965.png"
            alt=""
          /></button
      ></a>
      <a id="exit" href="javascript:void(0);"
        ><button type="button" id="countdown-btn">
          <img
            src="https://cdn-icons-png.flaticon.com/512/8472/8472186.png"
            alt="flaticon"
          /></button
      ></a>
    </nav>
    <script>
      function startCountdown() {
        let count = 15; // tiempo inicial en segundos
        const countdownElement = document.getElementById("countdown-btn");
        const RedirectElement = document.getElementById("exit");
        const RedirectElement0 = document.getElementById("suger");

        countdownElement.innerHTML = `${count}`; // Se inserta el contador como texto

        const countdownInterval = setInterval(() => {
          //Se actualiza el contador cada intervalo de tiempo
          count--;
          countdownElement.innerHTML = `${count}`;

          if (count === 0) {  // Si contador llega a 0 :
            clearInterval(countdownInterval);
            RedirectElement.setAttribute("href", "?exit"); // activar el enlace de redireccionamiento
            RedirectElement0.setAttribute("href", "poppu.html");

            const newButton = document.createElement("button");             //  Se crea un Boton    
            newButton.type = "button";                                      //  que remplaze el anterior y se le grega la imagen 
            newButton.id = "countdown-btn";                                 //  y sus estilos 
            const newImg = document.createElement("img");                   
            newImg.src =                                                    
              "https://cdn-icons-png.flaticon.com/512/8472/8472186.png";    
            newImg.alt = "flaticon";
            newButton.appendChild(newImg);

            RedirectElement.replaceChild(newButton, countdownElement);
          }
        }, 1000);
      }
    </script>
  </body>
</html>
